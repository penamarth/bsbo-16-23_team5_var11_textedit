1. Пользователь открывает существующий Document в TextEditor с текущим контентом ['п', 'р', 'и', 'в', 'е', 'т']
2. Cursor установлен на позиции 6 через setPosition(6)
3. Пользователь инициирует сохранение, вызывая saveState() в TextEditor
4. TextEditor запрашивает Document.getContent(), возвращая List<Character> ['п', 'р', 'и', 'в', 'е', 'т']
5. TextEditor запрашивает Cursor.getPosition(), возвращая 6
6. TextEditor создаёт новый Snapshot с content=['п', 'р', 'и', 'в', 'е', 'т'] и cursorPosition=6
7. TextEditor передаёт Snapshot в Caretaker.addSnapshot(snapshot)
8. Caretaker добавляет snapshot в историю и подтверждает добавление
9. TextEditor возвращает пользователю подтверждение: state saved successfully
10. Document и Cursor остаются без изменений, snapshot сохранён в истории для возможного восстановления