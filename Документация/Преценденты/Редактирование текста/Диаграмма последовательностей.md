# Диаграмма последовательностей для редактировования текста

```mermaid
sequenceDiagram
    actor User
    participant TextEditor
    participant Document  
    participant Character
    participant Cursor

    User->>TextEditor: copyText(2, 5)
    activate TextEditor
        TextEditor->>Document: getContent()
        activate Document
        Document-->>TextEditor: ['п', 'р', 'и', 'в', 'е', 'т']
        deactivate Document
        TextEditor-->>User: copied text
    deactivate TextEditor

    User->>Cursor: setPosition(2)
    activate Cursor
    Cursor-->>User: position set
    deactivate Cursor

    User->>TextEditor: deleteText(character)
    activate TextEditor
        TextEditor->>Document: getContent()
        activate Document
        Document-->>TextEditor: ['п', 'р', 'и', 'в', 'е', 'т']
        deactivate Document
        TextEditor->>TextEditor: deleteText(character)
        TextEditor->>Cursor: move(-1)
        activate Cursor
        Cursor-->>TextEditor: position updated
        deactivate Cursor
    deactivate TextEditor

    User->>TextEditor: deleteText(character)  
    activate TextEditor
        TextEditor->>Document: getContent()
        activate Document
        Document-->>TextEditor: ['п', 'р', 'в', 'е', 'т']
        deactivate Document
        TextEditor->>TextEditor: deleteText(character)
    deactivate TextEditor

    User->>TextEditor: pasteText("новый", cursor)
    activate TextEditor
        TextEditor->>Character: new Character(text='н', position=2)
        activate Character
        Character-->>TextEditor: character object
        deactivate Character
        TextEditor->>TextEditor: insertText(character)
        TextEditor->>Cursor: move(1)
        activate Cursor
        Cursor-->>TextEditor: position updated
        deactivate Cursor
        TextEditor->>Character: new Character(text='о', position=3)
        activate Character
        Character-->>TextEditor: character object
        deactivate Character
        TextEditor->>TextEditor: insertText(character)
        TextEditor->>Cursor: move(1)
        TextEditor->>Document: getContent()
        activate Document
        Document-->>TextEditor: ['п', 'р', 'н', 'о', 'в', 'ы', 'й', 'т']
        deactivate Document
    deactivate TextEditor
```